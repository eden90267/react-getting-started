# Chap 01. 什麼是前端工程師 ?

> MVC框架介紹  
> MVVM框架介紹  
> 熱門的前端框架簡介  
> React特色  
> 為什麼選擇React ?

早期做網站的時候，網頁的介面與後端程式並沒有很明顯的分工，直到行動裝置出現以後，專案的架構開始變得越來越龐大複雜，前後端的分工才逐漸受到明顯的重視。前端工程師的工作有點像是一座橋樑，因為他們工作除了要跟UI、UX設計人員密切合作外，也要能和後端開發人員對接程式，算是個守備範圍相當廣泛的工作。

由於前端要處理的問題相當廣泛，因此如何運用一個好的工具來解決這樣複雜問題，就成了前端開發相當重要的一課，這也造就了如今前端框架百家爭鳴的狀況，在介紹這些框架之前，我們先了解一下幾個軟體框架的設計。

## MVC (Model-View-Controller) 框架介紹

大約十年前，開發人員建構網站，前後端的程式並沒有很明顯的分工，工程師除了要協助美術設計師切圖套版之外，還要兼顧後端程式開發，使得介面端的程式(HTML、CSS)通常會跟後端的程式碼互相混雜再一起，相當不容易辨識。

隨架構越來越擴大，功能越來越多的情況下，這樣開發模式通常會帶來高昂的維護及開發成本。為解決這問題，MVC軟體架構開始被廣泛導入到應用程式，使得網站各個部分切分開來，讓程式人員分頭進行開發，也讓程式設計更為彈性，降低日後程式維護與擴充的難度。

- Model(模型)：程式的功能，接手Controller的工作進行處理
- View(介面)：使用者可視的頁面，也就是DOM的部分
- Controller(控制器)：負責轉發請求、控制流程，並針對各項請求進行處理

MVC將程式的各個部分功能抽象化，使其相互之間存在關聯性，但也各自擁有獨立性，無論你做哪一端修改，都能確保另外兩端不用做任何修改。

- 程式人員專注在Model的設計，完善功能、演算法和各種的運算引擎就好
- View直接交由介面設計師處理
- Controller串起整個執行邏輯

讓使用者在使用的時候，可以直接透過控制器來與程式互動。

![](https://i.imgur.com/hIE0voW.png)

但透過控制器來操作DOM，往往有著許多不便，例如選擇元素(Element)的問題、如何控制的問題、效能的問題、相容性的問題等等，可說相當複雜。雖然jQuery的出現幫大家解決了不少問題，使得DOM的操作簡易許多，但仍有許多進步空間，於是開始有人提出MVVM的概念。

## MVVM(Model-View-ViewModel) 框架介紹

MVVM是MVC的改良版，其設計的概念一樣是將UI端從Server端抽離，只不過MVVM設計架構將MVC中的Controller換成了ViewModel，最大的區別是，使用者在使用軟體的時候，是直接與View互動，當View或Model產生變動的時候ViewModel會自動反映，並將結果同步在介面或模型上，因此它採用的是雙向資料綁定的概念，而不是像MVC為單向資料流的設計。

這樣程式就可以在運用最少資源的情況下，快速的變動介面以達到預期的效果，現在前端的框架大部分是基於這個設計概念而產生的，如Ember、Angular和最新的Vue。如此一來，程式開發人員就不用再去煩惱DOM操作的問題，直接更新ViewModel，框架就會自動幫你對應到DOM上面產生結果，讓前端在開發效率上有了相當大的突破，其他還有像MVP(Model-View-Presenter)等等的設計方式，這邊就不多說了。

## 熱門的前端框架簡介

### Backbone

Backbone是非常輕量化的一套MVC前端框架，誕生於2010年，比Angular稍稍晚一點，可找到許多兩者的比較；Backbone擁有體積小，制定性強的特性，提供了標準的Model、View與Controller架構供開發者使用，因而在使用Backbone開發，可清楚的分工，由於他並沒有更改太多原生的HTML與CSS語言，因此只熟悉傳統網頁語言的人也可無痛上手。

Model部分，Backbone提供了key-value的結構綁定大量的事件處理，但是在介面綁定資料的部分，Backbone則需仰賴一套Underscore.js的工具才能實現。

### Ember

EmberJS算是一套蠻早的前端框架，歷史可追朔到2007年，源自SproutCore所開發的產品，當時由Sproutlt公司所開發，後來由Apple接手。直到2011，Yehuda Katz發起Ember項目才得以正式浮上檯面。

Ember和Angular 1一樣，對於DOM有著優秀的擴展(資料綁定)能力，它提供一套豐富的Handlebars.js庫，功能包括提供元素模型、宣告式的雙向資料綁定、可計算的屬性與自動化更新模板，但也由於方法相當多樣，學習曲線較高。

### Angular

Angular是由Google所研發的一套JavaScript的開源前端框架，自2009年發表以來一直熱度不減，因此網路上也有許多方便的相關套件可以使用。

Angular雙向綁定資料的能力相當優秀，可以視為HTML的直接延伸，透過ng-*的方式，開發者就可以輕鬆操作DOM了，另外資料操作方面則獨立在Controller裡面，使得介面與操作的程式碼切割得相當乾淨，Angular也提供了很多方式如ng-filter、ng-if等等的方式，讓開發者更能彈性操作DOM，可說是前端開發的利器之一。

值得注意是Angular 2之後的設計與使用方式與Angular 1有著相當大的差異。

### Vue

Vue是一套由Evan You所研發的一套開源前端框架，推出的時候也引起不少關注，在中國的開發者圈有著相當高的熱度。

Vue可視為是Angular 1與React的綜合體，因為他早期的開發靈感來自於Angular 1，同樣提供了像v-*的方式進行雙向資料綁定，待React出現之後，他也迅速納入Virtual DOM的開發概念。而他在納入兩者的時候也進行了一些調整，例如Angular 1的所有資源在下載的時候會整包給你，Vue則可以選擇性安裝，因此Vue輕量許多。

## React特色

React是一套由Facebook於2013年所發表的一套開源前端框架。由於在撰寫網頁的時候，隨著介面複雜度的提高，我們常常需要針對不同的元件進行許多不一樣的操作，並將各種變化的數據忠實反映到對應的介面上，這樣複雜且頻繁的過程通常會造成效能上的瓶頸，於是Facebook提出了一套新的開發方法。特色說明如下：

### 虛擬DOM

別於其他框架設計，React的核心想法由元件(Component)出發，並提出一套虛擬DOM(Virtual
DOM)的概念，其作法是在程式端置入一份對應到真實DOM(Real
DOM)的物件，以代管該元件所有會用到的資料與邏輯，當元件因為資料變動而需要進行改變的時候，React會根據新的介面狀態重新繪製一份新的虛擬DOM樹，並快速的與舊的虛擬DOM樹進行比對，然後自動將有變動的部分對應到真實的DOM上面進行更新，如此一來，開發者將能專注在撰寫元件的定義與互動邏輯上，不必再煩惱如何去操作真實的DOM，一切交由React進行處理。

### JSX

為使開發者更容易使用JavaScript操作元件，React提供了一套類似XML語法來供開發者使用，就是JSX，可在JS當中夾雜HTML與CSS等語法的檔案，讓開發者更容易撰寫與閱讀虛擬DOM元件的程式碼。

但瀏覽器並沒有支援，所以需要Babel轉譯器來轉譯成原生JavaScript，因此對於開發並沒有強制使用，也可選擇原生JavaScript語法進行元件開發。

### 元件(Component)

虛擬DOM的撰寫方式帶來了有別於以往開發網頁的習慣，他讓每一位開發者在開發的時候都能從一個獨立的元件出發，讓每個元件各自定義自己所要呈現的樣式與邏輯，然後透過組合的方式，一層一層地架構出你最後要呈現的樣貌。以更接近物件導向的方式進行開發與管理，且更有系統的管理每個資源。

### 單向資料流

由於React的樹狀元件化設計，元件之間有著緊密的繼承關係，
即資料僅能由父元件透過props的方式傳遞至子元件，子元件並沒有辦法去修改props裡面的資料。這個方式可很嚴謹的管理資料的流向與運用：Flux或Redux，這樣的單向資料流工具來使用。

單向資料流工具提供了名為儲存器(Store)的功能，當你在打造複雜的元件樹狀結構時，就能將所有會變動的資料整合在一起放在Store獨立出來，用於整個應用程式的資料模型(Model)，藉以打造完整的前端框架。

## 為什麼選擇 React ?

React剛出現的時候算是一個新的領域，因為它**獨特的元件化設計**，**完全不同於以往資料綁定的撰寫方式**，對於只熟悉HTML、CSS語言的人來說，學習曲線會稍微高一點，但熟悉後，會發現以下幾個優點：

- 從元件思考：使程式更容易模組化，維護性與重用性大幅提升
- 執行效能高：由於React使用了虛擬DOM的概念，將HTML、CSS直接插進JavaScript之間執行，因此效能有了明顯的提升
- 單向數據流：資料結構清楚容易掌握
- 同構(Isomorphic)：在撰寫React的時候是比較偏向JavaScript語言的，因此可與伺服器共用同一份程式碼來渲染元件，除了提升SEO，也解決了以往需要維護兩份程式碼的困擾
- 兼容性佳：虛擬DOM的設計幫我們解決很多跨瀏覽器的問題
- 跨平台性：React同時也推出React Native，同時可開發Web、iOS和Android程式

另外對於從事設計的人來說，由於元件的獨立性，你甚至可以撰寫出許多具有自己風格的元件，以供各個專案使用，從此擺脫重寫不完整而造成功能無法運作的困擾。
